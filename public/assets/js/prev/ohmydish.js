
function delay(t,e){var o=0;return function(...n){clearTimeout(o),o=setTimeout(t.bind(this,...n),e||0)}}$(document).ready(function(){function t(){var t=$(".suggestionbox");$(t).hasClass("d-none")||$(t).fadeOut(300,function(){$(this).html("").addClass("d-none")})}$(document).on("click",'[data-toggle="lightbox"]',function(t){t.preventDefault(),$(this).ekkoLightbox()}),$(window).scrollTop()>100&&$("#back-to-top").show(),$(window).scroll(function(){$(this).scrollTop()>100&&$(this).scrollTop()<$(document).height()-900?$("#back-to-top").show():$("#back-to-top").hide()}),$("#back-to-top").click(function(){return $("body,html").scrollTop(0),!1}),$(".ingredients li, .kitchen_equipment li").click(function(){$(this).toggleClass("checked")}),$(".save-recipe").click(function(){var t=$(this);$.ajax({url:$(this).data("save-url"),method:"POST",success:function(e){"true"===e?($(t).find(".recipe-saved").removeClass("d-none"),$(t).find(".recipe-not-saved").addClass("d-none"),$(".recipe-alert").show(),setTimeout(function(){$(".recipe-alert").fadeOut()},4e3)):"false"===e?($(t).find(".recipe-not-saved").removeClass("d-none"),$(t).find(".recipe-saved").addClass("d-none"),$(".recipe-alert").fadeOut()):"not-logged-in"===e&&window.location.replace($("body").data("login-url"))}})}),$(".confetti-button").click(function(t){return t.preventDefault(),$(this).removeClass("animate"),$(this).addClass("animate"),setTimeout(function(){$(this).removeClass("animate"),window.location.href=t.target},750),!1}),$("#s").on("keyup focus",delay(function(e){27!==e.keyCode&&($(this).val().length>1?$.ajax({url:$("body").data("search-url"),type:"post",data:{s:$(this).val(),return_json:!0},dataType:"json"}).done(function(t){var e;$(".suggestionbox").html(t.results),e=$(".suggestionbox"),$(e).hasClass("d-none")&&$(e).removeClass("d-none").hide().fadeIn(200)}):t())},400)),$(document).keyup(function(e){27===e.keyCode&&(t(),$("#s").blur())}),$(".suggestionbox, #s").on("click",function(t){t.stopPropagation()}),$("body").on("click",function(){t()}),$(".star-rating").starRating({minRating:1,totalStars:5,initialRating:$(this).data("rating"),starSize:30,useFullStars:!0,forceRoundUp:!0,activeColor:"orange",ratedColor:"orange",ratedColors:["orange","orange","orange","orange","orange"],useGradient:!1,callback:function(t,e){$.ajax({url:e.data("url"),data:{rating:t},method:"GET",success:function(t){$("#total-votes").text(t.rating_label)}})}})});